<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <title>How Big is Google?</title>

  <link rel="icon" href="images/me-cartoon.png">

  <!-- Required stylesheet -->
  <link rel="stylesheet" media="screen" href="core/deck.core.css">

  <!-- Extension CSS files go here. Remove or add as needed. -->
  <link rel="stylesheet" media="screen" href="extensions/goto/deck.goto.css">
  <link rel="stylesheet" media="screen" href="extensions/menu/deck.menu.css">
  <link rel="stylesheet" media="screen" href="extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" media="screen" href="extensions/status/deck.status.css">
  <link rel="stylesheet" media="screen" href="extensions/scale/deck.scale.css">

  <!-- Style theme. More available in /themes/style/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/style/web-2.0.css">

  <!-- Transition theme. More available in /themes/transition/ or create your own. -->
  <link rel="stylesheet" media="screen" href="themes/transition/horizontal-slide.css">

  <!-- Basic black and white print styles -->
  <link rel="stylesheet" media="print" href="core/print.css">

  <!-- Required Modernizr file -->
  <script src="modernizr.custom.js"></script>

  <!-- Facebook OpenGraph tags -->
  <meta property="og:title" content="How Big is Google?" />   
  <meta property="og:description" content="Presented at Radboud University, 11 March 2019">
  <meta property="og:type" content="website" />
  <meta property="og:url" content="http://djoerd.github.io/deck.js/rubigdata.html" />
  <meta property="og:image" content="http://djoerd.github.io/deck.js/images/me-cartoon.png" />
  <link rel="canonical" href="http://djoerd.github.io/deck.js/rubigdata.html#slide-0" />
  
  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@djoerd" />
  <meta name="twitter:creator" content="@djoerd" />
  <meta name="twitter:title" content="How Big is Google?" />
  <meta name="twitter:description" content="Presented at Radboud University, 11 March 2019">
  <meta name="twitter:image" content="http://djoerd.github.io/deck.js/images/me-cartoon.png" />

  <style>
    blockquote { font-size:1.5em; margin-left:5em; margin-right:5em; padding-bottom:1.5em; }
    li { font-size:1.5em; }
  </style>

</head>
<body>
  <div class="deck-container">

    <!-- Begin slides. Just make elements with a class of slide. -->


<!--

  Discuss the paper that started Google. This is one of the most interesting papers of the past 25 years.
  Interesting: Brin & Page were PhD students at Stanford U.
  This paper, that was accepted at the WWW Conference, was rejected at the main conference in IR: ACM SIGIR.
  In 2006 I was at the SIGIR PC meeting, the meeting that discusses what papers should be accepted, and
  Use a benchmark test collection, so not just a set of public web documents, but also:
  a set of queries, and
  a set of relevance judgements. 


  Figure: Complex,
   * Big File: Barrels. I interpret this as: "a barrel is a chunk in GFS"
   * Sorters : 
     * PageRank, Anchor text, Inverted Index. 
   * repository
   * doc index

1. How many pages are there in Google 2019?
  
  Approach 1: "How does google search work": The Google Search index contains hundreds of billions of webpages 
  Approach 2: "Search for 'the'": 25 billion results. Less than half of the web is English -> 50 billion results.
  Approach 3: Moore's law: 21 years / 1.5 = 14 times doubled = times 2^14 = * 16000, so 24 million * 16,000 = 384 billion! 

  Let's go for 200 billion

2. How big is the 2019 "web page repository"? 
  Approach 1: 147GB / 24 million = 6kb in 1998, so 6000 * 200 billion = 1.2 * 10^15 bytes = 1.2 PB (or 0.4 PB compressed)
  Approach 2: ClueWeb 12 = 27.3 TB / 733 million documents = 36kb!

  Let's go for 1.2 PB compressed

3. 1.2 PB * 3 replication * 2 for processing 7.2 PB
   8TB harddrives -> we need 1000
   about 12 per data node, so we need 84 data nodes
   BTW, In 2015 University of Twente spend over 200K Euro on a 80 node cluster, which holds about 0.5 PB

   7.2 PB / 64MB chunks = 125,000,000 =  125 million chunks
   The master maintains less than 64 bytes of metadata for each 64 MB chunk
   In main memory, so 125 million * 64 = 8GB 

4. 2 quad core CPUs per data node. 100Mbit throughput per thread? 100 MB throughput per data node
   So 80 * 100 MB = 8 GB per sec. for the cluster.
   1.2 PB / 8 GB = 15,000 sec. = 2500 min. = 42 h. 

-->

    <section class="slide">
      <h1>How Big is 
        <img alt="Google" src="images/google-icon.png" style="height:1em;display:inline-block;vertical-align:bottom;margin-bottom:0.1em;"> ?<br>
        <span style="font-size:0.7em; color:#777">Estimating the size of Big Data</span><br>
        <span style="font-size:0.3em;"><a target="_blank" href="https://mastodon.utwente.nl/@hiemstra">Djoerd Hiemstra (@hiemstra@mastodon.utwente.nl)</a></span><br>
      </h1>
    </section>

    <section class="slide">
    <h2 style="text-align:center"> &nbsp; </h2>
    <img alt="Google 1998 screen shot" src="images/google1998.png" style="display:block;margin-left:auto;margin-right:auto">
    <p style="text-align:center"><a href="https://web.archive.org/web/19981111183552/google.stanford.edu/">https://web.archive.org/web/19981111183552/google.stanford.edu/</a></p>
    </section>

    <section class="slide">
    <h2> Google's academic start </h2>
    <div>
     <img alt="Sergey" src="http://wwwconference.org/www7/1921/sergey.jpg" style="display:inline-block;height:218px">
     <img alt="Larry" src="http://wwwconference.org/www7/1921/larry.jpg" style="display:inline-block;height:218px">
    </div>
    <p>
    Sergey Brin and Lawrence Page (1998),<br> 
    <a href="http://wwwconference.org/www7/1921/com1921.htm">The Anatomy of a Large-Scale Hypertextual Web Search Engine</a>,<br>
    In: <em>Proceedings of the 7<sup>th</sup> International World Wide Web Conference</em>.
    </p>
    </section>

    <section class="slide">
    <h2 style="text-align:center"> The art of estimating </h2>
    <img alt="Ionica estimates the number of piano tuners in Amsterdam" src="images/ionica-schatten.png" style="display:block;margin-left:auto;margin-right:auto">
    <p style="text-align:center"><a href="https://www.ionica.nl/tag/schatten/">https://www.ionica.nl/tag/schatten/</a></p>
    </section>

    <section class="slide">
    <h2 style="text-align:center"> Google 2019 </h2>
    <img alt="Google 20th birthday" src="https://www.google.com/logos/doodles/2018/googles-20th-birthday-6342583134453760-2xa.gif" style="display:block;margin-left:auto;margin-right:auto">
    <p style="text-align:center"><a href="https://www.google.com/doodles/googles-20th-birthday">https://www.google.com/doodles/googles-20th-birthday</a></p>
    </section>

  
    <section class="slide">
      <h2>1. How many pages are there in Google 2019? </h2>
      <!-- The prototype with a full text and hyperlink database of at least 24 million pages is available at http://google.stanford.edu/ -->
      <ul>
      <li class="slide" style="font-size:1.5em;">credible source?</li>
      <li class="slide" style="font-size:1.5em;">extrapolate from a sample?</li>
      <li class="slide" style="font-size:1.5em;">similar questions? </li>
      <li class="slide" style="font-size:1.5em;">inside information? </li>
      <li class="slide" style="font-size:1.5em;"> ... ? </li>
      </ul>
    </section>

    <section class="slide">
    <h2 style="text-align:center"> 
      <img alt="Google" src="images/google-icon.png" style="height:1em;display:inline-block;vertical-align:bottom;margin-bottom:0.1em;"> Brin &amp; Page 1998: </h2>
    <blockquote>
     If we assume that Moore's law holds for the future,
     we need only 10 more doublings, or 15 years to reach our goal of indexing everything everyone in the US has written for a year (850 TB)
    </blockquote>
    </section>

    <section class="slide">
      <h2>2. How big is the 2019 "web page repository"? </h2>
      <!-- Total Size of Fetched Pages 	147.8 GB, Due to compression the total size of the repository is about 53 GB -->
      <ul>      
      <li class="slide">average size of a web page?</li>
      <li class="slide">in 1998 vs. in 2019?</li>
      <li class="slide">similar questions? </li>
      <li class="slide"> ... ? </li>
      </ul>
    </section>

    <section class="slide">
    <h2 style="text-align:center"> 
      <img alt="Google" src="images/google-icon.png" style="height:1em;display:inline-block;vertical-align:bottom;margin-bottom:0.1em;"> Hardware in 1997: 
    </h2>
    <img alt="Google Hardware 1997" src="images/google-hardware1997.jpg">
    <p style="text-align:center">
    Jeff Dean (2009),
    <a href="http://research.google.com/people/jeff/WSDM09-keynote.pdf">Challenges in Building Large-Scale Information Retrieval Systems</a>,
    In: <em>Proceedings of WSDM</em></p>
    </section>

    <section class="slide">
      <h2>3. How big a (Hadoop) cluster stores the repository? </h2>
      <ul>
      <li class="slide">How many hard disks?</li>
      <li class="slide">How many data nodes?</li>
      <li class="slide">What about replication? </li>
      <li class="slide">Bonus: Will the name node have enough main memory? </li>
      </ul>
    </section>

    <section class="slide">
    <h2 style="text-align:center"> 
      <img alt="Google" src="images/google-icon.png" style="height:1em;display:inline-block;vertical-align:bottom;margin-bottom:0.1em;"> Brin &amp; Page 1998: </h2>
    <blockquote>
The indexer ran just faster than the crawlers (...) Furthermore, the crawling, indexing, and sorting operations are efficient enough to be able to build an index of a substantial portion of the web &#8212; 24 million pages, in less than one week. 
    </blockquote>
    </section>

    <section class="slide">
      <h2>4. Estimate the time needed to scan the repository </h2>
      <ul>
      <li class="slide">extrapolate from a sample?</li>
      <li class="slide">assumptions? (Is the job IO bound?)</li>
      <li class="slide">a simplified problem?</li>
      <li class="slide">... ? </li>
      </ul>
    </section>

    <section class="slide">
    <h2 style="text-align:center"> 
      <img alt="Google" src="images/google-icon.png" style="height:1em;display:inline-block;vertical-align:bottom;margin-bottom:0.1em;"> Brin &amp; Page 1998: </h2>
    <blockquote>
      With better encoding and compression of the Document Index, a high quality web search engine may fit onto a 7GB drive of a new PC.
    </blockquote>
    </section>

    <section class="slide">
      <h2>Other questions </h2>
      <ol start="5">
      <li class="slide"> Size of the inverted index (with/without compression) </li>
      <li class="slide"> Query time with inverted index? </li>
      <li class="slide"> Query time with early termination? </li>
      </ol>
    </section>


    <section class="slide">
    <h2 style="text-align:center"> 
     <img alt="Google" src="images/google-icon.png" style="height:1em;display:inline-block;vertical-align:bottom;margin-bottom:0.1em;">
     Appendix A: Advertising and Mixed Motives </h2>
    <blockquote>
<!-- It is clear that a search engine which was taking money for showing cellular phone ads would have difficulty justifying the page that our system returned to its paying advertisers. For this type of reason -->
... we expect that advertising funded search engines will be inherently biased towards the advertisers and away from the needs of the consumers. 
    </blockquote>
    </section>


    <section class="slide">
     <h2> Racial discrimination </h2>
     <img style="display:inline-block" alt="Google Advertisements" src="images/google-sweeney.jpg">
     <p>
     Latanya Sweeney (2013)<br> 
     <a href="https://queue.acm.org/detail.cfm?id=2460278">Discrimination in Online Ad Delivery</a>,<br>
     In: <em>ACM Queue 11</em>(3)  
     </p>
    </section>
 

    <section class="slide">
    <h2> Nazi propaganda  </h2>
     <img style="display:inline-block;height:440px" alt="Google Autocompletions" src="images/google-holocaust2.png">
     <p>
     Carole Cadwalladr (2016)<br>
     <a href="https://www.theguardian.com/commentisfree/2016/dec/11/google-frames-shapes-and-distorts-how-we-see-world">Google is not 'just' a platform. It frames, shapes and distorts how we see the world</a>.<br> 
     The Guardian. 11 December 2016.
     </p>
    </section>
    

    <section class="slide">
    <h2> Manipulation of Elections </h2>
     <img style="display:inline-block;height:440px" alt="Washington Post Article" src="images/google-wp.jpg">
     <p>
      Elizabeth Dwoskin, Adam Entous and Craig Timberg (2017)<br>
     <a href="https://www.washingtonpost.com/news/the-switch/wp/2017/10/09/google-uncovers-russian-bought-ads-on-youtube-gmail-and-other-platforms/">Google uncovers Russian-bought ads on YouTube, Gmail and other platforms </a>.<br>      
     The Washington Post, 9 October 2017.
     </p>
    </section>
   

    <section class="slide">
    <h2 style="text-align:center"> 
     <img alt="Google" src="images/google-icon.png" style="height:1em;display:inline-block;vertical-align:bottom;margin-bottom:0.1em;">
     Appendix B: Scalability </h2>
    <blockquote>
Of course a distributed system like Gloss (...) will often be the most efficient and elegant technical solution for indexing, ...
<!-- but it seems difficult to convince the world to use these systems because of the high administration costs of setting up large numbers of installations. Of course, it is quite likely that reducing the administration cost drastically is possible. If that happens, and everyone starts running a distributed indexing system, searching would certainly improve drastically. -->
    </blockquote>
    </section>

    <section class="slide">
    <h2> Federated Search </h2>
    <ul><li><strong>Goal</strong>: For a query, select the best search engine in a federation</li> 
      <li><strong>How</strong>: statistics of search engines in a federation
      <ul><li style="font-size:1em">total #documents in engine</li>
          <li style="font-size:1em">#documents with the term <em>t</em></li>
      </ul>
      </li>
    </ul>
    <p>Luis Gravano, Hector Garcia-Molina, and A. Tomasic (1994).<br>
     The Effectiveness of GlOSS for the Text-Database Discovery Problem.<br> 
     In: <em>Proceedings of ACM SIGMOD 1994</em></p>
    </section>



    <section class="slide">
      <h1>Questions? <img src="images/me-cartoon.png" style="height:1em;display:inline-block;vertical-align:bottom;margin-bottom:0.1em;">
      </h1>
    </section>


    <!-- End slides. -->

    <!-- Begin extension snippets. Add or remove as needed. -->

    <!-- deck.navigation snippet -->
    <div aria-role="navigation">
      <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
      <a href="#" class="deck-next-link" title="Next">&#8594;</a>
    </div>

    <!-- deck.status snippet -->
    <p class="deck-status" aria-role="status">
      <span class="deck-status-current"></span>
      /
      <span class="deck-status-total"></span>
    </p>

    <!-- deck.goto snippet -->
    <form action="." method="get" class="goto-form">
      <label for="goto-slide">Go to slide:</label>
      <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
      <datalist id="goto-datalist"></datalist>
      <input type="submit" value="Go">
    </form>

    <!-- End extension snippets. -->
  </div>

<!-- Required JS files. -->
<script src="jquery.min.js"></script>
<script src="core/deck.core.js"></script>

<!-- Extension JS files. Add or remove as needed. -->
<script src="extensions/menu/deck.menu.js"></script>
<script src="extensions/goto/deck.goto.js"></script>
<script src="extensions/status/deck.status.js"></script>
<script src="extensions/navigation/deck.navigation.js"></script>
<script src="extensions/scale/deck.scale.js"></script>

<!-- Initialize the deck. You can put this in an external file if desired. -->
<script>
  $(function() {
    $.deck('.slide');
  });
</script>
</body>
</html>
